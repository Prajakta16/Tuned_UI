<app-header [loggedIn]="true" [showUsername]="userName"></app-header>

<div class = "people-container">
    <ul class="nav nav-tabs justify-content-center" id="myTab" role="tablist">
        <li class="nav-item">
            <a class="nav-link active" id="home-tab" data-toggle="tab" href="#home" role="tab" aria-controls="home" aria-selected="true">
                <span class="badge badge-secondary">{{followerCount}}</span> Followers
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="profile-tab" data-toggle="tab" href="#profile" role="tab" aria-controls="profile" aria-selected="false">
                <span class="badge badge-secondary">{{followingCount}}</span> Following
            </a>
        </li>
      </ul>
      <div class="tab-content" id="myTabContent">
        <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">
            <ul class="list-group">
                <li class="list-group-item" *ngFor = "let follower of followers; index as i">
                    <div class="list-item">
                        <div>
                            {{i+1}}. {{follower.first_name}} {{follower.last_name}}
                        </div>
                        <div class="btn-group" role="group" aria-label="Basic example">
                            <button type="button" class="btn btn-outline-secondary"
                            (click)="navigateToProfile(follower)">
                                View Profile
                            </button>
                            <button type="button" class="btn btn-secondary" 
                            *ngIf="follower.follow" (click)="unfollow(follower)">
                                Following
                            </button>
                            <button type="button" class="btn btn-outline-secondary" 
                            *ngIf="!follower.follow" (click)="follow(follower)">
                                Follow
                            </button>
                        </div>
                    </div>
                </li>
              </ul>
        </div>
        <div class="tab-pane fade" id="profile" role="tabpanel" aria-labelledby="profile-tab">
    
            <ul class="list-group">
                <li class="list-group-item" *ngFor = "let following of followings; index as i">
                    <div class="list-item">
                        <div>
                            {{i+1}}. {{following.first_name}} {{following.last_name}}
                        </div>
                        <div class="btn-group" role="group" aria-label="Basic example">
                            <button type="button" class="btn btn-outline-secondary"
                            (click)="navigateToProfile(following)">
                                View Profile
                            </button>
                            <button type="button" class="btn btn-secondary" 
                            *ngIf="following.follow" (click)="unfollow(following)">
                                Following
                            </button>
                            <button type="button" class="btn btn-outline-secondary" 
                            *ngIf="!following.follow" (click)="follow(following)">
                                Follow
                            </button>
                        </div>
                    </div>
                </li>
              </ul>
    
        </div>
      </div>
</div>